<head>
  <title>Clever | Portal</title>
  <link rel="icon" type="image/x-icon" href="https://clever.com/favicon.ico" />
  <script>
    (function() {window.onbeforeunload=function() {return "Not this time.";}})()
  </script>
  <link rel="stylesheet" href="design/loading.css">
  <style>
    #myIframe {
      display: none;
    }
  </style>
</head>
<body>
  <div class="msg">
    <div class="lds-dual-ring"></div>
    <p class="info" id="loading-message">
      Loading..
    </p>
  </div>
  <body style="margin: 0px; height: 100vh;">
    <iframe id="myIframe" src="https://terbium.ga" style="border: none; width: 100%; height: 100%; margin: 0px;"></iframe>
  </body>
  <script>
    var messages = [
      "This might take a while, maybe grab a drink?",
      "You still there?",
      "Wake up!",
      "Maybe the server's down.."
    ];
    var currentIndex = 0;
    var originalMessage = "Loading..";
    var myIframe = document.getElementById('myIframe');
    var loadingMessage = document.getElementById('loading-message');
    setInterval(function() {
      if (currentIndex === 0) {
        loadingMessage.innerText = originalMessage;
      } else {
        loadingMessage.innerText = messages[currentIndex - 1] + ' (' + currentIndex + '/' + messages.length + ')';
      }
      currentIndex = (currentIndex + 1) % (messages.length + 1);
    }, 3000);
    setTimeout(function() {
      window.location.reload();
    }, 60000);
    myIframe.onload = function() {
      var msg = document.querySelector('.msg');
      msg.parentNode.removeChild(msg);
      myIframe.style.display = 'block';
    };
  </script>
</body>
